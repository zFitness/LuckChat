(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e2d2a80"],{"6fea":function(t,n,e){},"7abe":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"index-container"},[e("div",{staticClass:"index-title"},[e("h3",[t._v("聊天")]),e("van-button",{staticClass:"btn",attrs:{icon:"friends-o",type:"info",color:"btn",size:"small"},on:{click:t.handlePeopleClick}},[t._v(" "+t._s(t.count)+" ")])],1),t._m(0),e("div",{staticClass:"start-btn"},[e("van-button",{staticClass:"btn",attrs:{size:"large"},on:{click:t.match}},[t._v("快速匹配")])],1)])},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"new-bg"},[e("img",{staticClass:"img",attrs:{src:"https://img.zmblog.wang/blog/20201214/kFYutJ9gP6Fv.png?imageslim",alt:""}}),e("p",[t._v("开始一个新的聊天")])])])}],i=(e("e7e5"),e("d399")),c={data:function(){return{count:0,timer:null}},computed:{},mounted:function(){var t=this;this.getOnlineCount(),this.timer=setInterval((function(){t.getOnlineCount()}),1e4)},beforeDestroy:function(){clearInterval(this.timer)},methods:{handlePeopleClick:function(){Object(i["a"])({message:"在线人数：".concat(this.count),position:"bottom"})},getOnlineCount:function(){var t={type:"GETCOUNT"};this.handleMsg(JSON.stringify(t))},match:function(){var t={type:"MATCH"};this.handleMsg(JSON.stringify(t))},handleMsg:function(t){var n=this;n.$global.ws&&1==n.$global.ws.readyState&&n.$global.ws.send(t),n.$global.ws.onmessage=function(t){var e=JSON.parse(t.data);"GETCOUNT"==e.msgType?n.count=e.content:"MATCH"==e.msgType&&n.$router.push("/chat/".concat(e.content))}}}},o=c,l=(e("f031"),e("2877")),r=Object(l["a"])(o,s,a,!1,null,"18ed31fc",null);n["default"]=r.exports},f031:function(t,n,e){"use strict";var s=e("6fea"),a=e.n(s);a.a}}]);