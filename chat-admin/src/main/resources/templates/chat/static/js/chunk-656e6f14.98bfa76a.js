(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-656e6f14"],{"6f29":function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"chat-container"},[s("van-nav-bar",{staticClass:"nav-bar",attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"title"},[t._v("张三")])]},proxy:!0},{key:"left",fn:function(){return[s("van-icon",{attrs:{name:"arrow-left",size:"18"}})]},proxy:!0},{key:"right",fn:function(){return[s("van-icon",{attrs:{name:"user-o",size:"18"}})]},proxy:!0}])}),s("div",{staticClass:"message-box"},[s("van-list",{attrs:{finished:t.finished},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,(function(a,n){return s("div",{key:n,staticClass:"message-item"},[a.id!=t.myId?s("div",{staticClass:"message-item-content"},[s("van-image",{staticClass:"avatar",attrs:{round:"",width:"1rem",height:"1rem",src:a.avatar}}),s("div",{staticClass:"message-content"},[t._v(" "+t._s(a.content)+" ")])],1):s("div",{staticClass:"message-item-content-me"},[s("van-image",{staticClass:"avatar",attrs:{round:"",width:"1rem",height:"1rem",src:a.avatar}}),s("div",{staticClass:"message-content"},[t._v(" "+t._s(a.content)+" ")])],1)])})),0)],1),s("div",{staticClass:"control-bottom"},[s("van-icon",{staticClass:"emoji-btn",attrs:{name:"smile-o",size:"20"}}),s("van-field",{staticClass:"input",attrs:{placeholder:"输入消息"},model:{value:t.msg,callback:function(a){t.msg=a},expression:"msg"}}),s("van-button",{staticClass:"send-btn",attrs:{size:"small",type:"primary"},on:{click:t.send}},[t._v("发送")])],1)],1)},e=[],i=s("4360"),c={name:"Chat",data:function(){return{myId:i["a"].getters.userInfo.id,list:[],msg:"",loading:!1,finished:!0}},mounted:function(){var t={type:"TEST"};this.handleMsg(JSON.stringify(t))},methods:{onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){},send:function(){var t={id:this.myId,avatar:"https://img.yzcdn.cn/vant/cat.jpeg",msgType:"text",content:this.msg,time:new Date},a={type:"SEND",content:t,targetId:this.$route.params.id};this.handleMsg(JSON.stringify(a)),this.list.push(t)},onLoad:function(){for(var t=1;t<0;t++){var a=void 0;a=t%2==1?{id:1,avatar:"https://img.yzcdn.cn/vant/cat.jpeg",msgType:"text",content:"你好，我是一个好人".concat(t),time:"2020-11-20 11:11:11"}:{id:2,avatar:"https://img.yzcdn.cn/vant/cat.jpeg",msgType:"text",content:"你好，我是一个好人".concat(t),time:"2020-11-20 11:11:11"},this.list.push(a)}},handleMsg:function(t){var a=this;a.$global.ws&&1==a.$global.ws.readyState&&a.$global.ws.send(t),a.$global.ws.onmessage=function(t){var s=JSON.parse(t.data);"SEND"==s.type&&a.list.push(s.content)}}}},o=c,r=(s("8822"),s("2877")),l=Object(r["a"])(o,n,e,!1,null,"364a8cab",null);a["default"]=l.exports},8822:function(t,a,s){"use strict";var n=s("916b"),e=s.n(n);e.a},"916b":function(t,a,s){}}]);